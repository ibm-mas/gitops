---
apiVersion: sls.ibm.com/v1
kind: LicenseService
metadata:
  name: sls
  namespace: mas-{{ .Values.ibm_sls.mas_instance_id }}-sls
  annotations:
    argocd.argoproj.io/sync-wave: "105"
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  mongo: 
{{  .Values.ibm_sls.mongo_spec | toYaml | indent 4 }}
  license:
    accept: true
  settings:
    auth:
      enforce: true
    registration:
      open: true
    {{- if .Values.ibm_sls.icr_cp_open }}
    registry: "{{ .Values.ibm_sls.icr_cp_open }}"
    {{ end }}
