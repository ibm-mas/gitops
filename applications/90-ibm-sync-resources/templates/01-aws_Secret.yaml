{{- if not (empty .Values.sm) }}
---
kind: Secret
apiVersion: v1
metadata:
  name: aws
  namespace: mas-{{ .Values.instance.id}}-syncres
  annotations:
    argocd.argoproj.io/sync-wave: "01"
stringData:
  aws_access_key_id: {{ .Values.sm.aws_access_key_id }}
  aws_secret_access_key: {{ .Values.sm.aws_secret_access_key }}
  aws_default_region: {{ .Values.sm.aws_region }}
type: Opaque
{{- end }}
