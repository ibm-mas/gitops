{{- if and .Values.mas_manual_cert_mgmt (eq .Values.mas_manual_cert_mgmt true) }}

---
kind: Secret
apiVersion: v1
metadata:
{{- if eq .Values.mas_app_id "core" }}
   name: "{{ .Values.mas_instance_id }}-cert-public"
{{- else if or (eq .Values.mas_app_id "monitor") (eq .Values.mas_app_id "iot") }}
   name: "{{ .Values.mas_instance_id }}-public-tls"
{{- else if eq .Values.mas_app_id "add" }}
   name: "{{ .Values.mas_instance_id }}-add-cert-public"
{{- else if eq .Values.mas_app_id "assist" }}
   name: "public-assist-tls"
{{- else if eq .Values.mas_app_id "optimizer" }}
   name: "{{ .Values.mas_instance_id }}-cert-optimizer-public"
{{- else if eq .Values.mas_app_id "predict" }}
   name: "{{ .Values.mas_instance_id }}-public-predict-tls"
{{- else if eq .Values.mas_app_id "visualinspection" }}
   name: "public-visualinspection-tls"
{{- end }}
  annotations:
    argocd.argoproj.io/sync-wave: "-5"
data:
{{- if .Values.ca_crt }}
  ca.crt: {{ .Values.ca_crt }}
{{- end }}
{{- if .Values.tls_cert }}
  tls.crt: {{ .Values.tls_cert }}
{{- end }}
{{- if .Values.tls_key }}
  tls.key: {{ .Values.tls_key }}
{{- end }}


{{- end }}
