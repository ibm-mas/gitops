apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: "mas-provisioner-certificate"
  namespace: "{{ .Values.provisioner_namespace }}"
  annotations:
    argocd.argoproj.io/sync-wave: "303"
spec:
  secretName: "mas-provisioner-certificate"
  duration: "175200h0m0s"
  renewBefore: "2160h0m0s"
  issuerRef:
    name: "mas-provisioner-issuer"
    kind: Issuer

  usages:
    - cert sign
    - digital signature
    - key encipherment
    - server auth

  commonName: "*.{{ .Values.cluster_domain }}"
  dnsNames:
    - "*.{{ .Values.cluster_domain }}"
  subject:
    countries:
      - US
    streetAddresses:
      - New York
    localities:
      - New York
    organizationalUnits:
      - IBM Maximo Application Suite
