<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://pages.github.com/ibm-mas/gitops/helmcharts/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Helm Charts - MAS GitOps</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../extra.css" rel="stylesheet" />
        <link href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Helm Charts";
        var mkdocs_page_input_path = "helmcharts.md";
        var mkdocs_page_url = "/ibm-mas/gitops/helmcharts/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> MAS GitOps
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Helm Charts</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#application-structure">Application Structure</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#account-root-chart">Account Root Chart</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cluster-root-chart">Cluster Root Chart</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#instance-root-chart">Instance Root Chart</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configrepo/">Config Repository</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../secrets/">Secrets</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../accountrootmanifest/">Account Root Application Manifest</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configtoinstances/">Generated Applications</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../orchestration/">Deployment Orchestration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../limitations/">Known Limitations</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">MAS GitOps</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Helm Charts</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ibm-mas/gitops/blob/demo2/docs/helmcharts.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="helm-charts">Helm Charts<a class="headerlink" href="#helm-charts" title="Permanent link"></a></h1>
<p>The <a href="https://github.com/ibm-mas/gitops">ibm-mas/gitops</a> repository provides Helm Charts that define all of the Kubernetes resources required to deploy MAS instances using ArgoCD. The Helm Charts are split across three sub directories, depending on their intended target:</p>
<ul>
<li><strong><a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications">root-applications</a></strong>: these charts define ArgoCD Application and ApplicationSet templates following the <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/cluster-bootstrapping/#app-of-apps-pattern">App of Apps pattern</a> and target the <strong>Management Cluster</strong> where ArgoCD is running. The Applications and ApplicationSets render other charts from <a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications">root-applications</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications">cluster-applications</a> or <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications">instance-applications</a></li>
<li><strong><a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications">cluster-applications</a></strong>: these charts define Kubernetes resources for installing cluster-wide MAS pre-requisites on <strong>Target Clusters</strong> where MAS is to be installed and managed.</li>
<li><strong><a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications">instance-applications</a></strong>: these charts define Kubernetes resources for installing MAS instances on <strong>Target Clusters</strong>.</li>
</ul>
<h2 id="application-structure">Application Structure<a class="headerlink" href="#application-structure" title="Permanent link"></a></h2>
<p>The following figure shows a tree of ArgoCD applications and Application Sets from the charts under <strong><a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications">root-applications</a></strong>, starting with the <strong>Account Root Application</strong> at the top.</p>
<p><img alt="Application Structure" src="../png/appstructure.png" /></p>
<h4 id="account-root-chart"><a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-account-root">Account Root Chart</a><a class="headerlink" href="#account-root-chart" title="Permanent link"></a></h4>
<p>The <a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-account-root">Account Root Chart</a> installs the <a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-account-root/templates/000-cluster-appset.yaml">Cluster Root Application Set</a>. This generates a set of <strong>Cluster Root Applications</strong> based on the configuration in the <strong>Config Repository</strong> </p>
<h4 id="cluster-root-chart"><a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-cluster-root">Cluster Root Chart</a><a class="headerlink" href="#cluster-root-chart" title="Permanent link"></a></h4>
<p>The <a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-cluster-root">Cluster Root Chart</a> templates generate ArgoCD Applications for configuring various dependencies shared by MAS instances on <strong>Target Clusters</strong>:</p>
<ul>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/000-ibm-operator-catalog-app.yaml">Operator Catalog</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/000-ibm-operator-catalog">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/010-ibm-redhat-cert-manager-app.yaml">Redhat Certificate Manager</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/010-redhat-cert-manager">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/020-ibm-dro-app.yaml">DRO</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/020-ibm-dro">(Chart)</a> </li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/060-ibm-db2u-app.yaml">Db2u Operator</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/060-ibm-db2u">(Chart)</a> </li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/040-cis-compliance-app.yaml">CIS Compliance</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/040-cis-compliance">(Chart)</a> </li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/050-nvidia-gpu-operator-app.yaml">Nvidia GPU Operator</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/cluster-applications/050-nvidia-gpu-operator">(Chart)</a> </li>
</ul>
<p>The <a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-cluster-root">Cluster Root Chart</a> also installs the <a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-cluster-root/templates/099-instance-appset.yaml">Instance Root Application Set</a>. This generates a set of <strong>Instance Root Applications</strong> based on the configuration in the <strong>Config Repository</strong>.  </p>
<h4 id="instance-root-chart"><a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-instance-root">Instance Root Chart</a><a class="headerlink" href="#instance-root-chart" title="Permanent link"></a></h4>
<p>The <a href="https://github.com/ibm-mas/gitops/tree/demo2/root-applications/ibm-mas-instance-root">Instance Root Chart</a> contains templates for ArgoCD Applications for installing MAS instances on <strong>Target Clusters</strong>.</p>
<ul>
<li>
<p>Instance-level MAS dependencies:</p>
<ul>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/080-ibm-cp4d-app.yaml">CP4D</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/080-ibm-cp4d">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/100-ibm-sls-app.yaml">SLS (Suite License Service)</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/100-ibm-sls">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/120-db2-databases-app.yaml">DB2 Databases</a><sup id="fnref4:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/120-ibm-db2u-database">(Chart)</a></li>
</ul>
</li>
<li>
<p>MAS Core itself, including the suite, suite configurations and core workspaces:</p>
<ul>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/130-ibm-mas-suite-app.yaml">MAS Core Suite</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-suite">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/200-ibm-mas-workspaces.yaml">MAS Workspaces</a><sup id="fnref2:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/220-ibm-mas-workspace">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/130-ibm-mas-suite-configs-app.yaml">Suite Configs</a><sup id="fnref3:1"><a class="footnote-ref" href="#fn:1">1</a></sup> (Charts<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>)</li>
</ul>
</li>
<li>
<p>MAS Applications (base installs):</p>
<ul>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/500-ibm-mas-masapp-assist-install.yaml">MAS App Assist Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/500-ibm-mas-masapp-iot-install.yaml">MAS App IoT Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/500-ibm-mas-masapp-manage-install.yaml">MAS App Manage Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/500-ibm-mas-masapp-visualinspection-install.yaml">MAS App VisualInspection Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/520-ibm-mas-masapp-health-install.yaml">MAS App Health Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/520-ibm-mas-masapp-monitor-install.yaml">MAS App Monitor Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/520-ibm-mas-masapp-optimizer-install.yaml">MAS App Optimizer Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/540-ibm-mas-masapp-predict-install.yaml">MAS App Predict Install</a> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/500-540-ibm-mas-suite-app-install">(Chart)</a></li>
</ul>
</li>
<li>
<p>MAS Applications (workspace configurations):</p>
<ul>
<li><a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/510-550-ibm-mas-masapp-configs.yaml">MAS App Configs</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/510-550-ibm-mas-suite-app-config">(Generic Chart)</a></li>
</ul>
</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>These templates are capable of generating multiple Applications; necessary because there may be one or more instances of the <strong>type</strong> of resource they are responsible for managing.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref4:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>The <a href="https://github.com/ibm-mas/gitops/blob/demo2/root-applications/ibm-mas-instance-root/templates/130-ibm-mas-suite-configs-app.yaml">Suite Configs</a> Application is responsible for installing various types of suite configuration types (Mongo, BAS, SMTP, etc) at various scopes (<code>system</code>, <code>app</code>, <code>ws</code>, <code>wsapp</code>). The chart is chosen dynamically based on the configuration type: <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-jdbc-config">JDBC</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-kafka-config">Kafka</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-bas-config">BAS</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-idp-config">IDP</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-mongo-config">Mongo</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-sls-config">SLS</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-mas-smtp-config">SMTP</a>, <a href="https://github.com/ibm-mas/gitops/tree/demo2/instance-applications/130-ibm-objectstorage-config">COS</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ibm-mas/gitops" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../architecture/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../configrepo/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
