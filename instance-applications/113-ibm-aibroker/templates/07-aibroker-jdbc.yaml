---
kind: Secret
apiVersion: v1
metadata:
  name: "aibroker-jdbccfg"
  namespace:  "{{ .Values.aibroker_namespace }}"
  annotations:
    argocd.argoproj.io/sync-wave: "145"
stringData:
  username: "{{ .Values.jdbccfg_username }}"
  password: "{{ .Values.jdbccfg_password }}"
  url: "{{ .Values.jdbccfg_url }}"
  sslenabled: "{{ .Values.jdbccfg_sslenabled }}"
  certificate: >-
  {{ .Values.jdbccfg_ca
      | replace "BEGIN CERTIFICATE" "BEGIN_CERTIFICATE"
      | replace "END CERTIFICATE" "END_CERTIFICATE"
      | regexReplaceAll "\\s+" "\n"
      | replace "BEGIN_CERTIFICATE" "BEGIN CERTIFICATE"
      | replace "END_CERTIFICATE" "END CERTIFICATE"
  }}
type: Opaque