apiVersion: v1
kind: Secret
metadata:
  name: "{{ .Values.sls_secret.name }}"
  namespace: "{{ .Values.sls_secret.namespace }}"
type: Opaque
data:
  {{- if .Values.sls_secret.ca_file_path }}
  {{ .Values.sls_secret.ca_file_path }}: {{ .Files.get .Values.sls_secret.ca_file_path | b64enc }}
  {{- end }}
  
  {{- if .Values.sls_secret.tls_file_path }}
  {{ .Values.sls_secret.tls_file_path }}: {{ .Files.get .Values.sls_secret.tls_file_path | b64enc }}
  {{- end }}
  
  {{- if .Values.sls_secret.key_file_path }}
  {{ .Values.sls_secret.key_file_path }}: {{ .Files.get .Values.sls_secret.key_file_path | b64enc }}
  {{- end }}
stringData:
  SLS_CLIENT_ID: {{ .Values.sls_secret.slsClientId}}
  SLS_REGISTRATION_KEY: {{ .Values.sls_secret.registrationKey}}